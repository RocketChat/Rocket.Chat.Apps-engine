{"version":3,"sources":["src/server/accessors/Persistence.ts"],"names":[],"mappings":";;AAKA;IACI,YAAoB,aAAiC,EAAU,KAAa;QAAxD,kBAAa,GAAb,aAAa,CAAoB;QAAU,UAAK,GAAL,KAAK,CAAQ;IAAI,CAAC;IAE1E,MAAM,CAAC,IAAY;QACtB,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IACvD,CAAC;IAEM,qBAAqB,CAAC,IAAY,EAAE,WAAwC;QAC/E,OAAO,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,IAAI,EAAE,IAAI,KAAK,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IAC/F,CAAC;IAEM,sBAAsB,CAAC,IAAY,EAAE,YAAgD;QACxF,OAAO,IAAI,CAAC,aAAa,CAAC,sBAAsB,CAAC,IAAI,EAAE,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IACrF,CAAC;IAEM,MAAM,CAAC,EAAU,EAAE,IAAY,EAAE,MAAM,GAAG,KAAK;QAClD,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IACnE,CAAC;IAEM,MAAM,CAAC,EAAU;QACpB,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IACrD,CAAC;IAEM,mBAAmB,CAAC,WAAwC;QAC/D,OAAO,IAAI,CAAC,aAAa,CAAC,oBAAoB,CAAC,IAAI,KAAK,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IACvF,CAAC;IAEM,oBAAoB,CAAC,YAAgD;QACxE,OAAO,IAAI,CAAC,aAAa,CAAC,oBAAoB,CAAC,YAAY,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;IAC7E,CAAC;CACJ;AA9BD,kCA8BC","file":"Persistence.js","sourcesContent":["import { IPersistence } from '../../definition/accessors';\nimport { RocketChatAssociationRecord } from '../../definition/metadata';\n\nimport { IPersistenceBridge } from '../bridges/IPersistenceBridge';\n\nexport class Persistence implements IPersistence {\n    constructor(private persistBridge: IPersistenceBridge, private appId: string) { }\n\n    public create(data: object): Promise<string> {\n        return this.persistBridge.create(data, this.appId);\n    }\n\n    public createWithAssociation(data: object, association: RocketChatAssociationRecord): Promise<string> {\n        return this.persistBridge.createWithAssociations(data, new Array(association), this.appId);\n    }\n\n    public createWithAssociations(data: object, associations: Array<RocketChatAssociationRecord>): Promise<string> {\n        return this.persistBridge.createWithAssociations(data, associations, this.appId);\n    }\n\n    public update(id: string, data: object, upsert = false): Promise<string> {\n        return this.persistBridge.update(id, data, upsert, this.appId);\n    }\n\n    public remove(id: string): Promise<object> {\n        return this.persistBridge.remove(id, this.appId);\n    }\n\n    public removeByAssociation(association: RocketChatAssociationRecord): Promise<Array<object>> {\n        return this.persistBridge.removeByAssociations(new Array(association), this.appId);\n    }\n\n    public removeByAssociations(associations: Array<RocketChatAssociationRecord>): Promise<Array<object>> {\n        return this.persistBridge.removeByAssociations(associations, this.appId);\n    }\n}\n"]}